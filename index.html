<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <title>Eksplorator Profili Terenowych</title>
    <link rel="stylesheet" href="css/main.css" />
    <script src="node_modules/chart.js/dist/chart.umd.js"></script>
</head>

<body>

    <div id="container" style="width:100%;height:100vh"></div>
    
    <div id="profile-container"
         style="position:absolute;left:10px;bottom:10px;width:400px;height:200px;
                background:#fff;border:1px solid #444;border-radius:8px;padding:10px;">
        <canvas id="profile-chart"></canvas>
    </div>

    <div id="tilt-indicator"
         style="position: fixed; top: 10px; right: 20px; z-index: 1000; background: rgba(255,255,255,0.9); padding: 8px 16px; border-radius: 8px; font-family: Arial, sans-serif; font-size: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        Наклон: 0°</div>

    <div id="legend"
         style="position: fixed; top: 10px; left: 20px; z-index: 1000; background: rgba(255,255,255,0.9); padding: 12px; border-radius: 8px; font-family: Arial, sans-serif; font-size: 14px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <div style="font-weight: bold; margin-bottom: 8px;">Типы местности:</div>
        <div style="display: flex; align-items: center; margin: 4px 0;">
            <div style="width: 20px; height: 20px; background: #1e3a8a; margin-right: 8px; border-radius: 2px;"></div>
            <span>Вода (≤ 0м)</span>
        </div>
        <div style="display: flex; align-items: center; margin: 4px 0;">
            <div style="width: 20px; height: 20px; background: #fbbf24; margin-right: 8px; border-radius: 2px;"></div>
            <span>Песок (0-50м)</span>
        </div>
        <div style="display: flex; align-items: center; margin: 4px 0;">
            <div style="width: 20px; height: 20px; background: #16a34a; margin-right: 8px; border-radius: 2px;"></div>
            <span>Трава (50-1000м)</span>
        </div>
        <div style="display: flex; align-items: center; margin: 4px 0;">
            <div style="width: 20px; height: 20px; background: #6b7280; margin-right: 8px; border-radius: 2px;"></div>
            <span>Скалы (крутые склоны)</span>
        </div>
        <div style="display: flex; align-items: center; margin: 4px 0;">
            <div style="width: 20px; height: 20px; background: #f8fafc; margin-right: 8px; border-radius: 2px;"></div>
            <span>Снег (≥ 2500м)</span>
        </div>
    </div>

    <div id="instructions"
         style="position: fixed; bottom: 10px; right: 20px; z-index: 1000; background: rgba(255,255,255,0.9); padding: 12px; border-radius: 8px; font-family: Arial, sans-serif; font-size: 14px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); max-width: 300px;">
        <div style="font-weight: bold; margin-bottom: 8px;">Инструкции:</div>
        <div>• Кликните в двух точках на карте для создания профиля</div>
        <div>• Используйте мышь для вращения и масштабирования</div>
        <div>• Профиль высоты отобразится внизу</div>
        <div>• Нажмите "Выбрать область" для смены региона</div>
    </div>

    <button id="select-region-btn" 
            style="position: fixed; top: 10px; left: 50%; transform: translateX(-50%); z-index: 1000; 
                   background: #3b82f6; color: white; border: none; padding: 8px 16px; 
                   border-radius: 6px; font-family: Arial, sans-serif; font-size: 14px; 
                   cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        Выбрать область
    </button>

    <div id="region-selector-modal" 
         style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                background: rgba(0,0,0,0.8); z-index: 2000; display: flex; 
                align-items: center; justify-content: center;">
        <div style="background: white; border-radius: 12px; padding: 24px; 
                    max-width: 800px; max-height: 90vh; overflow: auto;">
            <h2 style="margin: 0 0 20px 0; color: #374151; font-family: Arial, sans-serif;">
                Выберите область Европы
            </h2>
            <div id="europe-map" style="width: 700px; height: 500px; border: 2px solid #e5e7eb; 
                                       border-radius: 8px; position: relative; background: #f8fafc;">
                <canvas id="europe-map-canvas" width="700" height="500"></canvas>
            </div>
            <div style="margin-top: 16px; display: flex; gap: 12px; justify-content: flex-end;">
                <button id="cancel-region" 
                        style="background: #6b7280; color: white; border: none; padding: 8px 16px; 
                               border-radius: 6px; font-family: Arial, sans-serif; cursor: pointer;">
                    Отмена
                </button>
                <button id="confirm-region" 
                        style="background: #10b981; color: white; border: none; padding: 8px 16px; 
                               border-radius: 6px; font-family: Arial, sans-serif; cursor: pointer;">
                    Загрузить область
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>